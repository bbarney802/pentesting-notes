# Burp Suite Basics

#### Burp Suite Basics

Java based tool for web app pen testing

Capture and manipulate traffic between an attacker and a webserver

After capturing requests we can choose to send them to various parts of the burp framework

Intercept,view, modify web requests prior to them being sent to the target server.

In some cases you can even intercept the response before it is received by our browser.

Burp suite community and pro edition.

#### Pro

Automated vuln scanner

Fuzzer/bruteforcer that isn’t ratelimited

Saving projects for future use

Built in api to integrate with other tools

Unrestricted access to add new extensions

Access to burp suite collaborator (request catcher self or portswigger hosted)

#### Enterprise

Continuous scanning like a Nessus scanner like vuln scanner

Automation from the manual tasks

#### Community Edition

Proxy – most known allows us to intercept and modify requests/responses when interacting with web apps

Repeater – second most known allows us to capture, modify, then resend the same request numerous times. This feature is invaluable to craft a payload through trial and error.

Intruder – harshly rate-limited in community allows us to spray an endpoint with requests. This is used for bruteforce attacks or to fuzz endpoints

Decoder – provides a valuable service when transforming data. Either in terms of decoding captured info, or encoding a payload prior to sending it to the target.

Comparer- allows us to compare two pieces of data at either word or byte level.

Sequencer – used when assessing the randomness of tokens such as session cookie values or other supposedly random generated data. If the algorithm is not generating secure random values then this could open an avenue for attack

Because its java based lots of extensions can be written and added into burp suite. The Extender module can load these into the framework. Many of these require the pro license.

Free one to check out Logger++ module

Dashboard – is split into four quadrants

Tasks – menu allows us to define background tasks that burp suite will run while we use the application.

Event log – tells us what burp suite is doing as well as info about the connections we are making

Advisory – gives info on vulns found

Global settings are in user options

Connections set a proxy to go through

TLS enable or disable various TLS settings

Project specific settings are found in the project options tab

HTTP how burp handles various aspects of HTTP protocol

#### Burp Proxy

Can capture the request and modify it

Send it to other burp modules

Copy it as a cURL command

Save it to a file

Enable or disable intercept -Burp will still log requests even if intercept is off.

Logs can be viewed by going to the HTTP History and WebSockets history

Any requests in the log can be sent to other burp tools by right clicking and choosing send to.

Proxy specific options

Can create rules to intercept only certain requests

Or request was intercepted -good for catching responses to all requests that were intercepted by the proxy

And URL Is in target scope- good default rule to only intercept traffic in scope of the test

The other useful section is the match and replace

Allows you to perform regexes on incoming and outgoing requests.

Example – you can automatically change your user agent to emulate a different web browser in outgoing requests or remove all cookies being set in incoming requests

To get it to work in firefox instead of the default browser use FoxyProxy standard

Burp opens a session to 127.0.0.1:8080 so you need to tunnel your traffic there to have it go through the proxy

Right click options do intercept response to this request allows you to intercept and modify the response to your request

HTTPS traffic proxy

We need to get firefox to trust connections secured by Portswigger certs so we will manually add the CA cert to our list of trusted Cas

[http://burp/cert](http://burp/cert) browse to this while proxy is on to download it

then import it to firefox trusted Cas and select trust this CA to identify websites

#### Scoping and Targeting

Burp will capture all of our traffic by default and clutter the logs so we use scoping to mitigate this

Go to the target tab and go to scope

Easiest way to do this is to browse to the site then right click the target from the list and choose add to scope. Then we will have to accept burp to stop logging for anything that isn’t in scope

We can also include or exclude domains/Ips from the scope subtab

Just because we turned off logging for things out of scope the proxy will still intercept everything we need to change the rule that says and URL is in target scope

#### Site Map and Issue Definitions

Site map- allows us to map out the apps we are targeting in a tree structure. Every page we visit shows up here allowing us to automatically. We need to browse around the whole page for the generation of this Burp pro would spider this automatically.

This can be useful if we want to map out an API as whenever we visit a page any API endpoints the page retrieves data from while loading will show up here.

Can also show you pages you don’t see displayed

[http://10.10.214.168/5yjR2GLcoGoij2ZK](http://10.10.214.168/5yjR2GLcoGoij2ZK)

![](file:///C:/Users/BrendanB/AppData/Local/Temp/msohtmlclip1/01/clip\_image002.png)

Issue Definitions – we don’t have vuln scanner in community edition but we still have access to a list of all the vulns it looks for. This gives us a huge list of web vulns complete with descriptions and references which we can draw from should we need citations for a report or help describing a vuln

Example attack

[http://10.10.214.168/ticket/](http://10.10.214.168/ticket/)

looking at the support site

going to try XSS in their support page form

alert("Succ3ssful XSS")

Going to try this payload in the contact email field

We get an error that shows there is a client side filter in place which prevents you from adding any special characters that are not allowed in email addresses.

Client side filters are easy to bypass.

First make sure the intercept proxy is on

Enter a legit email into the form and Test Attack as a query

Then submit the form and it should be intercepted by the proxy

With the request captured by the proxy we can bypass the client side filter because we are going to modify and send from the proxy now.

In the request before sending it add the line

alert("Succ3ssful XSS") to the email=

Then highlight the payload and use Ctrl+U to URL encode the payload to make it safe to send

Had to use a URL encoder because the shortcut didn’t work
